mem_ancestors_grudge_give_random_archeotech = {
	if = {
		limit = {
			host_has_dlc = "Ancient Relics Story Pack"
		}
		add_random_research_option = {
			category = archaeostudies
			#area = RANDOM
			#tier = <int>
			add_progress = 0.5
			ignore_prereqs = no
			ignore_rare = no
			only_rare = no
			ignore_insight = yes
			fail_effects = {
				add_resource = {
					minor_artifacts = 100
				}
				add_monthly_resource_mult = {
					resource = physics_research
					value = 1
				}
				add_monthly_resource_mult = {
					resource = society_research
					value = 1
				}
				add_monthly_resource_mult = {
					resource = engineering_research
					value = 1
				}
			}
		}
	}
	else = {
		add_random_research_option = {
			category = materials
			#area = RANDOM
			#tier = <int>
			add_progress = 0.5
			ignore_prereqs = no
			ignore_rare = no
			only_rare = no
			ignore_insight = yes
			fail_effects = {
				add_monthly_resource_mult = {
					resource = engineering_research
					value = 3
				}
			}
		}
	}
}

mem_ancestors_grudge_remove_all_relics = {
	if = {
		limit = {
			has_relic = r_mem_ancestors_grudge_pauldron
		}
		remove_relic = r_mem_ancestors_grudge_pauldron
	}
	if = {
		limit = {
			has_relic = r_mem_ancestors_grudge_ring
		}
		remove_relic = r_mem_ancestors_grudge_ring
	}
	if = {
		limit = {
			has_relic = r_mem_ancestors_grudge_sword
		}
		remove_relic = r_mem_ancestors_grudge_sword
	}
}

mem_ancestors_grudge_trait_effect = {
	add_trait = mem_ancestors_grudge_trait_relicowner
	hidden_effect = {
		set_variable = {
			which = mem_ancestors_grudge_rune_intensity
			value = owner.mem_ancestors_grudge_rune_intensity
		}
		if = {
			limit = {
				#leader_class = commander
				owner = {
					has_country_flag = mem_ancestors_grudge_common
				}
			}
			set_leader_flag = mem_ancestors_grudge_common
		}
		if = {
			limit = {
				#leader_class = commander
				owner = {
					has_country_flag = mem_ancestors_grudge_rare
				}
			}
			set_leader_flag = mem_ancestors_grudge_rare
		}
		if = {
			limit = {
				#leader_class = commander
				owner = {
					has_country_flag = mem_ancestors_grudge_epic
				}
			}
			set_leader_flag = mem_ancestors_grudge_epic
		}
		if = {
			limit = {
				owner = {
					has_country_flag = mem_ancestors_grudge_exceptional
				}
			}
			set_leader_flag = mem_ancestors_grudge_exceptional
		}
		if = {
			limit = {
				owner = {
					has_country_flag = mem_ancestors_grudge_relic_flag1
				}
			}
			set_leader_flag = mem_ancestors_grudge_relic_flag1
		}
		if = {
			limit = {
				owner = {
					has_country_flag = mem_ancestors_grudge_relic_flag2
				}
			}
			set_leader_flag = mem_ancestors_grudge_relic_flag2
		}
		if = {
			limit = {
				owner = {
					has_country_flag = mem_ancestors_grudge_relic_flag3
				}
			}
			set_leader_flag = mem_ancestors_grudge_relic_flag3
		}
		if = {
			limit = {
				owner = {
					has_country_flag = mem_ancestors_grudge_relic_flag4
				}
			}
			set_leader_flag = mem_ancestors_grudge_relic_flag4
		}
		if = {
			limit = {
				owner = {
					has_country_flag = mem_ancestors_grudge_relic_flag5
				}
			}
			set_leader_flag = mem_ancestors_grudge_relic_flag5
		}
		if = {
			limit = {
				owner = {
					has_country_flag = mem_ancestors_grudge_relic_flag6
				}
			}
			set_leader_flag = mem_ancestors_grudge_relic_flag6
		}
		if = {
			limit = {
				owner = {
					has_country_flag = mem_ancestors_grudge_relic_flag7
				}
			}
			set_leader_flag = mem_ancestors_grudge_relic_flag7
		}
		if = {
			limit = {
				owner = {
					has_country_flag = mem_ancestors_grudge_relic_flag8
				}
			}
			set_leader_flag = mem_ancestors_grudge_relic_flag8
		}
	}
}
