# These two are used on the leader trait because that two variables are used for the effects anyways
# MemGetRarity
defined_text = {
	name = MemGetRarity
	random = no
	# otherwise the logs start to cry
	text = {
		trigger = {
			NOT = {
				is_variable_set = mem_ancestors_grudge_smithing_quality_rolled
			}
		}
		localization_key = mem_ancestors_grudge_empty
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value = 6
			}
		}
		localization_key = mem_ancestors_grudge_quality_7
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value = 5
			}
		}
		localization_key = mem_ancestors_grudge_quality_6
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value = 4
			}
		}
		localization_key = mem_ancestors_grudge_quality_5
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value = 3
			}
		}
		localization_key = mem_ancestors_grudge_quality_4
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value = 2
			}
		}
		localization_key = mem_ancestors_grudge_quality_3
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value = 1
			}
		}
		localization_key = mem_ancestors_grudge_quality_2
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value = 0
			}
		}
		localization_key = mem_ancestors_grudge_quality_1
	}
	default = mem_ancestors_grudge_common
}
# MemGetPurity
defined_text = {
	name = MemGetPurity
	random = no
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_purity_rolled
				value >= 1.5
			}
		}
		localization_key = mem_ancestors_grudge_purity_5
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_purity_rolled
				value >= 1.25
			}
		}
		localization_key = mem_ancestors_grudge_purity_4
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_purity_rolled
				value >= 1
			}
		}
		localization_key = mem_ancestors_grudge_purity_3
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_purity_rolled
				value >= 0.75
			}
		}
		localization_key = mem_ancestors_grudge_purity_2
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_purity_rolled
				value < 0.75
			}
		}
		localization_key = mem_ancestors_grudge_purity_1
	}
	default = mem_ancestors_grudge_empty
}

# This one is used fÃ¼r the Relic activation effect for hives
# MemAncestorsHiveGetActive
defined_text = {
	name = MemAncestorsHiveGetActive
	random = no
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value >= 6
			}
			has_relic = r_mem_ancestors_grudge_pauldron
		}
		localization_key = mem_ancestors_grudge.45.exceptional_pauldron
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value >= 6
			}
			has_relic = r_mem_ancestors_grudge_ring
		}
		localization_key = mem_ancestors_grudge.45.exceptional_ring_hive
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value >= 6
			}
			has_relic = r_mem_ancestors_grudge_sword
		}
		localization_key = mem_ancestors_grudge.45.exceptional_sword
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value < 6
			}
		}
		localization_key = mem_ancestors_grudge.46.tooltip
	}
	default = WEIRD
}

# MemGetLeaderClass
defined_text = {
	name = MemGetLeaderClass
	random = no
	text = {
		trigger = {
			has_relic = r_mem_ancestors_grudge_sword
		}
		localization_key = mem_ancestors_grudge_commander
	}
	text = {
		trigger = {
			has_relic = r_mem_ancestors_grudge_pauldron
		}
		localization_key = mem_ancestors_grudge_official
	}
	text = {
		trigger = {
			has_relic = r_mem_ancestors_grudge_ring
		}
		localization_key = mem_ancestors_grudge_scientist
	}
	default = mem_ancestors_grudge_empty
}

# MemGetRelic
defined_text = {
	name = MemGetRelic
	random = no
	text = {
		trigger = {
			owner = {
				has_relic = r_mem_ancestors_grudge_sword
			}
		}
		localization_key = r_mem_ancestors_grudge_sword
	}
	text = {
		trigger = {
			owner = {
				has_relic = r_mem_ancestors_grudge_pauldron
			}
			#has_relic = r_mem_ancestors_grudge_pauldron
		}
		localization_key = r_mem_ancestors_grudge_pauldron
	}
	text = {
		trigger = {
			owner = {
				has_relic = r_mem_ancestors_grudge_ring
			}
			#has_relic = r_mem_ancestors_grudge_ring
		}
		localization_key = r_mem_ancestors_grudge_ring
	}
	default = mem_ancestors_grudge_empty
}

# Alternative text for Restoration Situation normal/hive
defined_text = {
	name = MemGetSitDesc
	random = no
	text = {
		trigger = {
			owner = {
				NOT = {
					has_origin = origin_mem_ancestors_grudge_hive
				}
			}
		}
		localization_key = situation_mem_ancestors_grudge_forge_repairs_desc_normal
	}
	text = {
		trigger = {
			owner = {
				has_origin = origin_mem_ancestors_grudge_hive
			}
		}
		localization_key = situation_mem_ancestors_grudge_forge_repairs_desc_hive
	}
}

# Defining text for qualities and purities
# MemAncestorsGrudgeQualityMin
defined_text = {
	name = MemAncestorsGrudgeQualityMin
	random = no
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_min
				value <= 1
			}
		}
		localization_key = mem_ancestors_grudge_quality_1
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_min
				value = 2
			}
		}
		localization_key = mem_ancestors_grudge_quality_2
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_min
				value = 3
			}
		}
		localization_key = mem_ancestors_grudge_quality_3
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_min
				value = 4
			}
		}
		localization_key = mem_ancestors_grudge_quality_4
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_min
				value = 5
			}
		}
		localization_key = mem_ancestors_grudge_quality_5
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_min
				value = 6
			}
		}
		localization_key = mem_ancestors_grudge_quality_6
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_min
				value >= 7
			}
		}
		localization_key = mem_ancestors_grudge_quality_7
	}
}
# MemAncestorsGrudgeQualityMax
defined_text = {
	name = MemAncestorsGrudgeQualityMax
	random = no
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_max
				value <= 1
			}
		}
		localization_key = mem_ancestors_grudge_quality_1
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_max
				value = 2
			}
		}
		localization_key = mem_ancestors_grudge_quality_2
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_max
				value = 3
			}
		}
		localization_key = mem_ancestors_grudge_quality_3
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_max
				value = 4
			}
		}
		localization_key = mem_ancestors_grudge_quality_4
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_max
				value = 5
			}
		}
		localization_key = mem_ancestors_grudge_quality_5
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_max
				value = 6
			}
		}
		localization_key = mem_ancestors_grudge_quality_6
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_smithing_quality_max
				value >= 7
			}
		}
		localization_key = mem_ancestors_grudge_quality_7
	}
}
# MemAncestorsGrudgeQualityFinal
defined_text = {
	name = MemAncestorsGrudgeQualityFinal
	random = no
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = mem_ancestors_grudge_smithing_quality_final
				value <= 1
			}
		}
		localization_key = mem_ancestors_grudge_quality_1
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = mem_ancestors_grudge_smithing_quality_final
				value = 2
			}
		}
		localization_key = mem_ancestors_grudge_quality_2
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = mem_ancestors_grudge_smithing_quality_final
				value = 3
			}
		}
		localization_key = mem_ancestors_grudge_quality_3
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = mem_ancestors_grudge_smithing_quality_final
				value = 4
			}
		}
		localization_key = mem_ancestors_grudge_quality_4
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = mem_ancestors_grudge_smithing_quality_final
				value = 5
			}
		}
		localization_key = mem_ancestors_grudge_quality_5
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = mem_ancestors_grudge_smithing_quality_final
				value = 6
			}
		}
		localization_key = mem_ancestors_grudge_quality_6
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = mem_ancestors_grudge_smithing_quality_final
				value >= 7
			}
		}
		localization_key = mem_ancestors_grudge_quality_7
	}
}
# MemAncestorsGrudgePurityMin
defined_text = {
	name = MemAncestorsGrudgePurityMin
	random = no
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_rune_purity_min
				value <= 1
			}
		}
		localization_key = mem_ancestors_grudge_purity_1
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_rune_purity_min
				value = 2
			}
		}
		localization_key = mem_ancestors_grudge_purity_2
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_rune_purity_min
				value = 3
			}
		}
		localization_key = mem_ancestors_grudge_purity_3
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_rune_purity_min
				value = 4
			}
		}
		localization_key = mem_ancestors_grudge_purity_4
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_rune_purity_min
				value >= 5
			}
		}
		localization_key = mem_ancestors_grudge_purity_5
	}
}
# MemAncestorsGrudgePurityMax
defined_text = {
	name = MemAncestorsGrudgePurityMax
	random = no
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_rune_purity_max
				value <= 1
			}
		}
		localization_key = mem_ancestors_grudge_purity1
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_rune_purity_max
				value = 2
			}
		}
		localization_key = mem_ancestors_grudge_purity_2
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_rune_purity_max
				value = 3
			}
		}
		localization_key = mem_ancestors_grudge_purity_3
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_rune_purity_max
				value = 4
			}
		}
		localization_key = mem_ancestors_grudge_purity_4
	}
	text = {
		trigger = {
			check_variable = {
				which = mem_ancestors_grudge_rune_purity_max
				value >= 5
			}
		}
		localization_key = mem_ancestors_grudge_purity_5
	}
}
# MemAncestorsGrudgePurityFinal
defined_text = {
	name = MemAncestorsGrudgePurityFinal
	random = no
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = mem_ancestors_grudge_rune_purity_final
				value <= 1
			}
		}
		localization_key = mem_ancestors_grudge_purity_1
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = mem_ancestors_grudge_rune_purity_final
				value = 2
			}
		}
		localization_key = mem_ancestors_grudge_purity_2
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = mem_ancestors_grudge_rune_purity_final
				value = 3
			}
		}
		localization_key = mem_ancestors_grudge_purity_3
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = mem_ancestors_grudge_rune_purity_final
				value = 4
			}
		}
		localization_key = mem_ancestors_grudge_purity_4
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = mem_ancestors_grudge_rune_purity_final
				value >= 5
			}
		}
		localization_key = mem_ancestors_grudge_purity_5
	}
}