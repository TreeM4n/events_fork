defined_text = {
	name = MemGetRarity
	random = no
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value >= 6
			}
		}
		localization_key = mem_ancestors_grudge_legendary
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value >= 5
			}
		}
		localization_key = mem_ancestors_grudge_masterful
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value >= 4
			}
		}
		localization_key = mem_ancestors_grudge_exceptional
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value >= 3
			}
		}
		localization_key = mem_ancestors_grudge_epic
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value >= 2
			}
		}
		localization_key = mem_ancestors_grudge_rare
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value >= 1
			}
		}
		localization_key = mem_ancestors_grudge_common
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value <= 0
			}
		}
		localization_key = mem_ancestors_grudge_mundane
	}
	default = mem_ancestors_grudge_common
}

defined_text = {
	name = MemAncestorsHiveGetActive
	random = no
	text = {
		trigger = {
			AND = {
				check_variable_arithmetic = {
					which = this.mem_ancestors_grudge_smithing_quality_rolled
					value >= 6
				}
				has_relic = r_mem_ancestors_grudge_pauldron
			}
		}
		localization_key = mem_ancestors_grudge.45.exceptional_pauldron
	}
	text = {
		trigger = {
			AND = {
				check_variable_arithmetic = {
					which = this.mem_ancestors_grudge_smithing_quality_rolled
					value >= 6
				}
				has_relic = r_mem_ancestors_grudge_ring
			}
		}
		localization_key = mem_ancestors_grudge.45.exceptional_ring_hive
	}
	text = {
		trigger = {
			AND = {
				check_variable_arithmetic = {
					which = this.mem_ancestors_grudge_smithing_quality_rolled
					value >= 6
				}
				has_relic = r_mem_ancestors_grudge_sword
			}
		}
		localization_key = mem_ancestors_grudge.45.exceptional_sword
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_quality_rolled
				value < 6
			}
		}
		localization_key = mem_ancestors_grudge.46.tooltip
	}
	default = WEIRD
}

defined_text = {
	name = MemGetPurity
	random = no
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_purity_rolled
				value >= 1.5
			}
		}
		localization_key = mem_ancestors_grudge_purity5
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_purity_rolled
				value >= 1.25
			}
		}
		localization_key = mem_ancestors_grudge_purity4
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_purity_rolled
				value >= 1
			}
		}
		localization_key = mem_ancestors_grudge_purity3
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_purity_rolled
				value >= 0.75
			}
		}
		localization_key = mem_ancestors_grudge_purity2
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = this.mem_ancestors_grudge_smithing_purity_rolled
				value < 0.75
			}
		}
		localization_key = mem_ancestors_grudge_purity1
	}
	default = mem_ancestors_grudge_empty
}

# this refers to the scripted effect "mem_ancestors_grudge_roll_for_relic_rarity" where the inline script takes care of rolling
# for example:
# inline_script = {
# 	script = mem_ancestors_grudge/roll_rarity
# 	FLAG1 = 0
# 	FLAG2 = 0
# 	FLAG3 = 1
# 	FLAG4 = 1
# 	FLAG5 = 1
# }
# this means the min quality Flag1 is is 0 ( = mundane), the average Flag3 is  is 1 ( = common ), the maximun Flag5 is 1 (= common)
defined_text = {
	name = MemGetSituationRarity
	random = no
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = owner.value:mem_ancestors_grudge_situation_rarity_tooltip
				value <= 7
			}
		}
		localization_key = mem_ancestors_grudge_legendary_situation
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = owner.value:mem_ancestors_grudge_situation_rarity_tooltip
				value <= 6
			}
		}
		localization_key = mem_ancestors_grudge_masterful_situation
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = owner.value:mem_ancestors_grudge_situation_rarity_tooltip
				value <= 5
			}
		}
		localization_key = mem_ancestors_grudge_exceptional_situation
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = owner.value:mem_ancestors_grudge_situation_rarity_tooltip
				value <= 4
			}
		}
		localization_key = mem_ancestors_grudge_epic_situation
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = owner.value:mem_ancestors_grudge_situation_rarity_tooltip
				value <= 3
			}
		}
		localization_key = mem_ancestors_grudge_rare_situation
	}
	text = {
		trigger = {
			check_variable_arithmetic = {
				which = owner.value:mem_ancestors_grudge_situation_rarity_tooltip
				value <= 2
			}
		}
		localization_key = mem_ancestors_grudge_common_situation
	}
	default = mem_ancestors_grudge_common_situation
}

defined_text = {
	name = MemGetLeaderClass
	random = no
	text = {
		trigger = {
			has_relic = r_mem_ancestors_grudge_sword
		}
		localization_key = mem_ancestors_grudge_commander
	}
	text = {
		trigger = {
			has_relic = r_mem_ancestors_grudge_pauldron
		}
		localization_key = mem_ancestors_grudge_official
	}
	text = {
		trigger = {
			has_relic = r_mem_ancestors_grudge_ring
		}
		localization_key = mem_ancestors_grudge_scientist
	}
	default = mem_ancestors_grudge_empty
}

defined_text = {
	name = MemGetRelic
	random = no
	text = {
		trigger = {
			owner = {
				has_relic = r_mem_ancestors_grudge_sword
			}
		}
		localization_key = r_mem_ancestors_grudge_sword
	}
	text = {
		trigger = {
			owner = {
				has_relic = r_mem_ancestors_grudge_pauldron
			}
			#has_relic = r_mem_ancestors_grudge_pauldron
		}
		localization_key = r_mem_ancestors_grudge_pauldron
	}
	text = {
		trigger = {
			owner = {
				has_relic = r_mem_ancestors_grudge_ring
			}
			#has_relic = r_mem_ancestors_grudge_ring
		}
		localization_key = r_mem_ancestors_grudge_ring
	}
	default = mem_ancestors_grudge_empty
}
