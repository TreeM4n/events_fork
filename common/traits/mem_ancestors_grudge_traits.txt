###########
# mem_ancestors_grudge
# made by:
# tr33
#
###########
mem_ancestors_grudge_trait_robot_rune_golem = {
	cost = 0
	allowed_archetypes = {
		ROBOT
		MACHINE
	}
	opposites = {
	}
	icon = "gfx/interface/icons/traits/mem_ancestors_grudge_trait_robot_rune_golem.dds"
	species_potential_add = {
		always = no
	}
	species_possible_remove = {
		always = no
	}
	# species_potential_remove = {
	# 	always = no
	# }
	modifier = {
		planet_jobs_minor_artifacts_produces_mult = 0.2
		army_health = 0.5
		#planet_pop_assembly_mult = -0.1
	}
	slave_cost = {
		energy = 500
	}
}

leader_trait_legendary_mem_ancestors_grudge_machine_nexus_one = {
	#Origin trait 
	starting_ruler_trait = yes
	leader_trait_type = veteran
	allowed_origins = {
		mem_ancestors_grudge_origin_machines
	}
	allowed_ethics = {
		ethic_gestalt_consciousness
	}
	cost = 0
	inline_script = {
		script = trait/icon
		ICON = "GFX_leader_trait_mem_ancestors_grudge_trait_rune1"
		RARITY = paragon
		COUNCIL = yes
		TIER = none
	}
	#custom_tooltip_with_modifiers = "leader_trait_legendary_mem_ancestors_grudge_machine_nexus_scaling"
	triggered_desc = {
		trigger = {
			always = yes
		}
		text = leader_trait_legendary_mem_ancestors_grudge_machine_nexus_scaling
	}
	councilor_modifier = {
		planetary_ascension_effect_mult = 0.02
	}
	triggered_councilor_modifier = {
		potential = {
			always = yes
		}
		planetary_ascension_effect_mult = 0.02
		mult = this.mem_ancestors_grudge_activated_rune_ruler_strength
	}
	leader_class = {
		official
		commander
		scientist
	}
	opposites = {
		#leader_trait_legendary_mem_ancestors_grudge_machine_nexus_one
		leader_trait_legendary_mem_ancestors_grudge_machine_nexus_two
		leader_trait_legendary_mem_ancestors_grudge_machine_nexus_three
		leader_trait_legendary_mem_ancestors_grudge_machine_nexus_four
	}
	initial = no
	randomized = no
}

leader_trait_legendary_mem_ancestors_grudge_machine_nexus_two = {
	#Origin trait 
	starting_ruler_trait = yes
	leader_trait_type = veteran
	allowed_origins = {
		mem_ancestors_grudge_origin_machines
	}
	allowed_ethics = {
		ethic_gestalt_consciousness
	}
	cost = 0
	inline_script = {
		script = trait/icon
		ICON = "GFX_leader_trait_mem_ancestors_grudge_trait_rune2"
		RARITY = paragon
		COUNCIL = yes
		TIER = none
	}
	#custom_tooltip_with_modifiers = "leader_trait_legendary_mem_ancestors_grudge_machine_nexus_scaling"
	triggered_desc = {
		trigger = {
			always = yes
		}
		text = leader_trait_legendary_mem_ancestors_grudge_machine_nexus_scaling
	}
	councilor_modifier = {
		add_base_country_intel = 3
	}
	triggered_councilor_modifier = {
		potential = {
			always = yes
		}
		add_base_country_intel = 3
		mult = this.mem_ancestors_grudge_activated_rune_ruler_strength
	}
	leader_class = {
		official
		commander
		scientist
	}
	opposites = {
		leader_trait_legendary_mem_ancestors_grudge_machine_nexus_one
		#leader_trait_legendary_mem_ancestors_grudge_machine_nexus_two
		leader_trait_legendary_mem_ancestors_grudge_machine_nexus_three
		leader_trait_legendary_mem_ancestors_grudge_machine_nexus_four
	}
	initial = no
	randomized = no
}

leader_trait_legendary_mem_ancestors_grudge_machine_nexus_three = {
	#Origin trait 
	starting_ruler_trait = yes
	leader_trait_type = veteran
	allowed_origins = {
		mem_ancestors_grudge_origin_machines
	}
	allowed_ethics = {
		ethic_gestalt_consciousness
	}
	cost = 0
	inline_script = {
		script = trait/icon
		ICON = "GFX_leader_trait_mem_ancestors_grudge_trait_rune3"
		RARITY = paragon
		COUNCIL = yes
		TIER = none
	}
	#custom_tooltip_with_modifiers = "leader_trait_legendary_mem_ancestors_grudge_machine_nexus_scaling"
	triggered_desc = {
		trigger = {
			always = yes
		}
		text = leader_trait_legendary_mem_ancestors_grudge_machine_nexus_scaling
	}
	councilor_modifier = {
		ship_speed_mult = 0.04
	}
	triggered_councilor_modifier = {
		potential = {
			always = yes
		}
		ship_speed_mult = 0.04
		mult = this.mem_ancestors_grudge_activated_rune_ruler_strength
		
	}
	leader_class = {
		official
		commander
		scientist
	}
	opposites = {
		leader_trait_legendary_mem_ancestors_grudge_machine_nexus_one
		leader_trait_legendary_mem_ancestors_grudge_machine_nexus_two
		#leader_trait_legendary_mem_ancestors_grudge_machine_nexus_three
		leader_trait_legendary_mem_ancestors_grudge_machine_nexus_four
	}
	initial = no
	randomized = no
}

leader_trait_legendary_mem_ancestors_grudge_machine_nexus_four = {
	#Origin trait 
	starting_ruler_trait = yes
	leader_trait_type = veteran
	allowed_origins = {
		mem_ancestors_grudge_origin_machines
	}
	allowed_ethics = {
		ethic_gestalt_consciousness
	}
	cost = 0
	inline_script = {
		script = trait/icon
		ICON = "GFX_leader_trait_mem_ancestors_grudge_trait_rune4"
		RARITY = paragon
		COUNCIL = yes
		TIER = none
	}
	#custom_tooltip_with_modifiers = "leader_trait_legendary_mem_ancestors_grudge_machine_nexus_scaling"
	triggered_desc = {
		trigger = {
			always = yes
		}
		text = leader_trait_legendary_mem_ancestors_grudge_machine_nexus_scaling
	}
	councilor_modifier = {
		megastructure_build_speed_mult = 0.02
	}
	triggered_councilor_modifier = {
		potential = {
			always = yes
		}
		megastructure_build_speed_mult = 0.02
		mult = this.mem_ancestors_grudge_activated_rune_ruler_strength
	}
	leader_class = {
		official
		commander
		scientist
	}
	opposites = {
		leader_trait_legendary_mem_ancestors_grudge_machine_nexus_one
		leader_trait_legendary_mem_ancestors_grudge_machine_nexus_two
		leader_trait_legendary_mem_ancestors_grudge_machine_nexus_three
		#leader_trait_legendary_mem_ancestors_grudge_machine_nexus_four
	}
	initial = no
	randomized = no
}



# thrawn
mem_ancestors_grudge_trait_thrawn = {
	#Origin trait
	#cost = 0
	inline_script = {
		script = trait/icon
		ICON = "GFX_leader_trait_great_khan"
		CLASS = leader
		RARITY = paragon
		COUNCIL = yes
		TIER = none
	}
	# self_modifier = {
		
	# }
	triggered_desc = {
		trigger = {
			always = yes
		}
		text = mem_ancestors_grudge_trait_thrawn_tt
	}
	triggered_councilor_modifier = {
		potential = {
			always = yes
		}
		ship_weapon_damage = 0.05
	}
	triggered_councilor_modifier = {
		potential = {
			always = yes
		}
		ship_weapon_damage = 0.05
		mult = owner.trigger:num_owned_relics
	}
	councilor_modifier = {
		command_limit_mult = -0.2
	}
	leader_class = {
		commander
	}
	immortal_leaders = yes
	initial = no
	randomized = no
	notify_on_gained = yes
}

# ugly ass script 
mem_ancestors_grudge_trait_relicowner = {
	#Origin trait
	#cost = 0
	inline_script = {
		script = trait/icon
		ICON = "GFX_leader_trait_mem_ancestors_grudge_trait_relicowner"
		CLASS = leader
		RARITY = paragon
		COUNCIL = no
		TIER = none
	}
	self_modifier = {
		leader_lifespan_add = 20
	}
	triggered_desc = {
		trigger = {
			NOR = {
				has_leader_flag = mem_ancestors_grudge_common
				has_leader_flag = mem_ancestors_grudge_rare
				has_leader_flag = mem_ancestors_grudge_exceptional
				has_leader_flag = mem_ancestors_grudge_epic
			}
		}
		text = mem_ancestors_grudge_trait_relicowner_tt
	}
	# weapon fire rate
	# hull repair in frinedly territory
	# shields
	# armor
	# debris
	# stealth
	# bombardment damage
	# starbase damage
	triggered_fleet_modifier = {
		potential = {
			leader_class = commander
			has_leader_flag = mem_ancestors_grudge_relic_flag1
		}
		ship_fire_rate_mult = 0.15
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_fleet_modifier = {
		potential = {
			leader_class = commander
			has_leader_flag = mem_ancestors_grudge_relic_flag2
		}
		ship_hull_regen_add_perc = 0.04
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_fleet_modifier = {
		potential = {
			leader_class = commander
			has_leader_flag = mem_ancestors_grudge_relic_flag3
		}
		ship_shield_mult = 0.1
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_fleet_modifier = {
		potential = {
			leader_class = commander
			has_leader_flag = mem_ancestors_grudge_relic_flag4
		}
		ship_armor_mult = 0.05
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_fleet_modifier = {
		potential = {
			leader_class = commander
			has_leader_flag = mem_ancestors_grudge_relic_flag5
		}
		create_debris_chance = 0.2
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_fleet_modifier = {
		potential = {
			leader_class = commander
			has_leader_flag = mem_ancestors_grudge_relic_flag6
		}
		ship_cloaking_strength_add = 2
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_fleet_modifier = {
		potential = {
			leader_class = commander
			has_leader_flag = mem_ancestors_grudge_relic_flag7
		}
		ship_orbital_bombardment_mult = 0.5
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_fleet_modifier = {
		potential = {
			leader_class = commander
			has_leader_flag = mem_ancestors_grudge_relic_flag8
		}
		ship_damage_against_starbases_mult = 0.15
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	#################################################
	# survey speed/anomaly chance
	# exp gain
	# rift speed/ skill/lifespan
	# digsite skill/speed
	# scienctist output
	# monthly research flat
	# stealth/evasion
	# unity from researchers
	triggered_modifier = {
		potential = {
			leader_class = scientist
			has_leader_flag = mem_ancestors_grudge_relic_flag1
		}
		science_ship_survey_speed = 0.16
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_self_modifier = {
		potential = {
			leader_class = scientist
			has_leader_flag = mem_ancestors_grudge_relic_flag2
		}
		species_leader_exp_gain = 0.08
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_modifier = {
		potential = {
			leader_class = scientist
			has_leader_flag = mem_ancestors_grudge_relic_flag3
		}
		ship_astral_rift_clues_add = 1.5
		country_astral_rift_speed_mult = 0.2
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_modifier = {
		potential = {
			leader_class = scientist
			has_leader_flag = mem_ancestors_grudge_relic_flag4
		}
		ship_archaeological_site_clues_add = 1.5
		ship_archaeological_site_excavation_speed_mult = 0.2
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_planet_modifier = {
		potential = {
			leader_class = scientist
			has_leader_flag = mem_ancestors_grudge_relic_flag5
		}
		planet_researchers_produces_mult = 0.12
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_modifier = {
		potential = {
			leader_class = scientist
			has_leader_flag = mem_ancestors_grudge_relic_flag6
		}
		ship_cloaking_strength_add = 1.5
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_planet_modifier = {
		potential = {
			leader_class = scientist
			has_leader_flag = mem_ancestors_grudge_relic_flag7
		}
		planet_jobs_engineering_research_produces_mult = 0.2
	}
	triggered_planet_modifier = {
		potential = {
			leader_class = scientist
			has_leader_flag = mem_ancestors_grudge_relic_flag8
		}
		planet_researchers_unity_produces_add = 1
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	########################################################################
	# federation guy
	# worker class
	# specialist class
	# happiness
	# exp gain
	# psionic
	# robot
	# building/district upkeep
	triggered_galcom_modifier = {
		potential = {
			leader_class = official
			has_leader_flag = mem_ancestors_grudge_relic_flag1
		}
		diplo_weight_mult = 0.04
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_planet_modifier = {
		potential = {
			leader_class = official
			has_leader_flag = mem_ancestors_grudge_relic_flag2
			owner = {
				is_regular_empire = yes
			}
		}
		planet_jobs_worker_produces_mult = 0.1
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_planet_modifier = {
		potential = {
			leader_class = official
			has_leader_flag = mem_ancestors_grudge_relic_flag2
			owner = {
				is_regular_empire = no
			}
		}
		planet_jobs_simple_drone_produces_mult = 0.1
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_planet_modifier = {
		potential = {
			leader_class = official
			has_leader_flag = mem_ancestors_grudge_relic_flag3
			owner = {
				is_regular_empire = yes
			}
		}
		planet_jobs_specialist_produces_mult = 0.1
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_planet_modifier = {
		potential = {
			leader_class = official
			has_leader_flag = mem_ancestors_grudge_relic_flag3
			owner = {
				is_regular_empire = no
			}
		}
		planet_jobs_complex_drone_produces_mult = 0.1
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_planet_modifier = {
		potential = {
			leader_class = official
			has_leader_flag = mem_ancestors_grudge_relic_flag4
		}
		pop_happiness = 0.05
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_self_modifier = {
		potential = {
			leader_class = official
			has_leader_flag = mem_ancestors_grudge_relic_flag5
		}
		species_leader_exp_gain = 0.08
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_planet_modifier = {
		potential = {
			leader_class = official
			has_leader_flag = mem_ancestors_grudge_relic_flag6
		}
		planet_psionic_jobs_produces_mult = 0.1
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_planet_modifier = {
		potential = {
			leader_class = official
			has_leader_flag = mem_ancestors_grudge_relic_flag7
		}
		planet_jobs_robot_worker_produces_mult = 0.1
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	triggered_planet_modifier = {
		potential = {
			leader_class = official
			has_leader_flag = mem_ancestors_grudge_relic_flag8
		}
		planet_districts_upkeep_mult = -0.1
		planet_buildings_upkeep_mult = -0.1
		mult = this.mem_ancestors_grudge_rune_intensity
	}
	# inline_script = {
	# 	script = paragon/leader_resource_upkeep
	# 	RESOURCE = 
	# 	AMOUNT = 1
	# }
	triggered_self_modifier = {
		potential = {
			leader_class = commander
			host_has_dlc = "Ancient Relics Story Pack"
		}
		leader_commanders_minor_artifacts_upkeep_add = 1
	}
	triggered_self_modifier = {
		potential = {
			leader_class = official
			host_has_dlc = "Ancient Relics Story Pack"
		}
		leader_officials_minor_artifacts_upkeep_add = 1
	}
	triggered_self_modifier = {
		potential = {
			leader_class = scientist
			host_has_dlc = "Ancient Relics Story Pack"
		}
		leader_scientists_minor_artifacts_upkeep_add = 1
	}
	leader_class = {
		scientist
		commander
		official
	}
	initial = no
	randomized = no
	notify_on_gained = yes
}
