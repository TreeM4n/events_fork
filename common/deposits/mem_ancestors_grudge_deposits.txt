## Possible Deposit Variables ##
# resources, resource and amount
# potential trigger (planet scope)
# blocked_modifier - applied to planet
# constant_modifier - applied to planet always
# station = station class in orbit to gather
@blocker_high = 10
@blocker_low = 5
@ranger_small_production = 0.5
@ranger_large_production = 1
d_mem_ancestors_grudge_boulder = {
	#time = 270
	icon = d_mem_ancestors_grudge_boulder
	is_for_colonizable = yes
	category = deposit_cat_blockers_natural
	can_be_cleared = {
		always = no
	}
	resources = {
		category = deposit_blockers_natural
		# cost = {
		# 	energy = 1000
		# }
		produces = {
			unity = 1
		}
	}
	potential = {
		always = no
	}
}

d_mem_ancestors_grudge_boulder_park = {
	icon = d_mem_ancestors_grudge_boulder
	is_for_colonizable = yes
	category = deposit_cat_rare

	resources = {
		category = planet_deposits
		produces = {
			unity = 5
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_historical_curator_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			job_drone_historical_curator_add =  1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			job_drone_historical_curator_add = 1
		}
	}
		
	drop_weight = {
		weight = 0
	}
}

d_mem_ancestors_grudge_boulder_hive = {
	#time = 270
	icon = d_metal_boneyard
	is_for_colonizable = yes
	category = deposit_cat_blockers_natural
	can_be_cleared = {
		always = no
	}
	resources = {
		category = deposit_blockers_natural
		# cost = {
		# 	energy = 1000
		# }
		produces = {
			unity = 1
		}
	}
	potential = {
		always = no
	}
}

d_mem_ancestors_grudge_boulder_park_hive = {
	icon = d_treasure_planet
	is_for_colonizable = yes
	category = deposit_cat_rare

	resources = {
		category = planet_deposits
		produces = {
			unity = 5
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_historical_curator_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			job_drone_historical_curator_add =  1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			job_drone_historical_curator_add = 1
		}
	}
		
	drop_weight = {
		weight = 0
	}
}

d_mem_ancestors_grudge_city_ruins = {
	icon = d_mem_ancestors_grudge_city_ruins
	time = 360
	is_for_colonizable = yes
	category = deposit_cat_blockers
	potential = {
		always = no
	}
	planet_modifier = {
		planet_max_districts_add = -2
	}
	resources = {
		category = deposit_blockers
		cost = {
			energy = 1200
		}
	}
	on_cleared = {
		custom_tooltip = mem_ancestors_grudge_boosts_repairs_effect
		if = {
			limit = {
				host_has_dlc = "Ancient Relics Story Pack"
			}
			owner = {
				add_resource = {
					minor_artifacts = 75
				}
			}
		}
		hidden_effect = {
			owner = {
				country_event = {
					id = mem_ancestors_grudge.30
				}
			}
		}
	}
	drop_weight = {
		weight = 0
	}
}

d_mem_ancestors_grudge_bomb_crater = {
	icon = d_mem_ancestors_grudge_bomb_crater
	time = 270
	is_for_colonizable = yes
	category = deposit_cat_blockers
	all_blocker_swap_types = yes
	potential = {
		always = no
	}
	planet_modifier = {
		planet_max_districts_add = -1
	}
	on_cleared = {
		custom_tooltip = mem_ancestors_grudge_boosts_repairs_effect
		if = {
			limit = {
				host_has_dlc = "Ancient Relics Story Pack"
			}
			owner = {
				add_resource = {
					minor_artifacts = 50
				}
			}
		}
		hidden_effect = {
			owner = {
				country_event = {
					id = mem_ancestors_grudge.30
				}
			}
		}
	}
	resources = {
		category = deposit_blockers
		cost = {
			energy = 800
		}
	}
	drop_weight = {
		weight = 0
	}
}

d_mem_ancestors_grudge_ruined_district = {
	time = 200
	is_for_colonizable = no
	category = deposit_cat_blockers
	icon = d_crater
	potential = {
		always = no
	}
	planet_modifier = {
		planet_max_districts_add = -1
	}
	on_cleared = {
		custom_tooltip = mem_ancestors_grudge_boosts_repairs_effect
		if = {
			limit = {
				host_has_dlc = "Ancient Relics Story Pack"
			}
			owner = {
				add_resource = {
					minor_artifacts = 25
				}
			}
		}
		hidden_effect = {
			owner = {
				country_event = {
					id = mem_ancestors_grudge.30
				}
			}
		}
	}
	resources = {
		category = deposit_blockers
		cost = {
			energy = 300
		}
	}
}

# stasis capsules
d_mem_ancestors_grudge_ruined_stasis = {
	icon = d_ancient_vault
	time = 120
	is_for_colonizable = yes
	category = deposit_cat_blockers
	potential = {
		always = no
	}
	on_cleared = {
		hidden_effect = {
			create_pop = {
				species = owner_main_species
			}
		}
		custom_tooltip = d_decrepit_dwellings_custom_tooltip
	}
	inline_script = deposits/ai_weight_pop_creating_blocker
	resources = {
		category = deposit_blockers
		cost = {
			energy = 400
		}
		upkeep = {
			energy = 1
		}
	}
}

# Buried Units
d_mem_ancestors_grudge_ruined_stasis_robots = {
	icon = d_ancient_vault
	time = 120
	is_for_colonizable = yes
	category = deposit_cat_blockers
	potential = {
		always = no
	}
	on_cleared = {
		hidden_effect = {
			create_pop = {
				species = owner_main_species
			}
		}
		custom_tooltip = d_decrepit_dwellings_custom_tooltip
	}
	inline_script = deposits/ai_weight_pop_creating_blocker
	resources = {
		category = deposit_blockers
		cost = {
			energy = 300
		}
		upkeep = {
			energy = 1
		}
	}
}

d_mem_ancestors_grudge_feral_drones = {
	icon = d_dangerous_wildlife_blocker
	time = 120
	is_for_colonizable = yes
	category = deposit_cat_blockers
	potential = {
		always = no
	}
	on_cleared = {
		hidden_effect = {
			create_pop = {
				species = owner_main_species
			}
		}
		custom_tooltip = d_decrepit_dwellings_custom_tooltip
	}
	inline_script = deposits/ai_weight_pop_creating_blocker
	resources = {
		category = deposit_blockers
		cost = {
			energy = 300
		}
	}
}